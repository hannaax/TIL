## Node와 React 연결하기
React 앱, Node Express 앱, 그리고 MongoDB 데이터베이스를 실행하고 호스팅하는 방법에는 크게 **두 가지**가 있습니다.

### 단일 서버를 사용하는 방법
- 하나의 컴퓨터에서 Node API와 React 싱글 페이지 애플리케이션을 모두 호스팅
- 동일한 도메인에서 애플리케이션과 API 실행
    - [mypage.com/](http://mypage.com/) : 싱글 페이지 애플리케이션
    - [mypage.com/api](http://mypage.com/api) : API 엔드포인트

### 두 개의 개별 서버를 사용하는 방법
- 하나의 서버에서 React.js 애플리케이션과 필요한 JavaScript 파일 실행
- 다른 하나의 서버에서 API를 호스팅
- 두 엔드가 서로 다른 서버에 존재하며 백그라운드 HTTP 요청을 전송할 때 JSON 포맷으로 데이터 교환

#### MongoDB 데이터베이스
- MongoDB는 자체 데이터베이스 서버를 항상 가짐
- 데이터베이스 서버는 Node 서버와 React 앱이 실행되는 기기와 별도로 설치
    - 많은 요청을 처리하고 데이터베이스 쿼리의 속도를 저해하지 않기 위함

### 주의 사항
- Node Express를 이용해 직접 서버에서 HTML 페이지를 렌더링하는 방식은 싱글 페이지 애플리케이션의 반응형 사용자 경험을 제공하지 못하므로 이 강의에서는 다루지 않음

### 강의 목적
- 첫 번째 MERN 애플리케이션을 구축하고 각 구성 요소를 연결하는 방법에 초점
- 이를 통해 React, Node Express, 그리고 MongoDB에 대한 이해를 더욱 심화시킬 것

<br>

---

<br>

## 개발 환경 및 개발 서버 만들기

MERN(MongoDB, Express.js, React, Node.js) 스택으로 개발하고 있습니다. 제공된 압축 파일을 풀면 frontend와 backend 폴더가 나오며, 이 둘을 합쳐 MERN 애플리케이션을 만들 수 있습니다.

`frontend` 폴더에는 React 애플리케이션과 관련된 컴포넌트들이 있고, `backend` 폴더에는 server.js 파일이 있습니다. 이들을 실행하려면 `Node.js`가 필요합니다. Node.js 설치 후 `npm`(Node Package Manager)를 이용해 각 폴더의 의존성을 설치할 수 있습니다.

프론트엔드와 백엔드 각각의 폴더에서 `npm start`를 실행하면 개발 서버가 구동되며, 각각 **localhost:3000, localhost:5000**에서 확인할 수 있습니다. 이 두 서버는 별개의 도메인에서 실행되므로, 서로 다른 서버로 봐야 합니다.

프론트엔드에서 상품을 추가하면 백엔드 서버에 데이터가 저장되고, 프론트엔드를 새로고침하면 백엔드 서버에서 해당 데이터를 가져옵니다. 이를 통해 프론트엔드와 백엔드가 어떻게 함께 작동하는지 이해할 수 있습니다.

<br>

---

<br>

### Node/Express 서버
- Node와 Express를 사용해 서버를 구축하고, 이를 시작합니다.
- 서버의 로직은 server.js 파일에 포함되어 있습니다.
- 서버는 listen() 메서드를 통해 시작되며, 포트 5000을 수신합니다.

### Node/Express 서버의 엔드포인트
- app.get()과 app.post() 메서드를 사용해 특정 경로에 미들웨어를 등록합니다.
- 요청이 도달하면 실행되는 함수가 있으며, 이 함수는 응답으로 products를 반환합니다.

### 데이터 저장
- 상품 생성 시, 사용자 입력값의 유효성 검사 후, 서드 파티 라이브러리를 사용해 고유 id를 만들어 상품을 DUMMY_PRODUCTS에 추가합니다.
- 이 데이터는 Node 앱의 메모리에만 저장되며, 서버를 재시작하면 모든 데이터가 손실됩니다.

### React 애플리케이션
- React 애플리케이션은 여러 컴포넌트로 구성되어 있으며, 이 컴포넌트들은 App.js 파일에서 불러와 렌더링됩니다.
- React 애플리케이션의 로직은 React 훅을 사용해 구현되며, 이는 상태 변경 시 UI를 다시 렌더링하도록 만듭니다.

### 백엔드와의 연결
- 애플리케이션 시작 시, fetch API를 사용해 백엔드에 GET 요청을 보내 상품 배열을 가져옵니다.
- 추가로, 새 상품을 백엔드로 전송하는 POST 요청도 있습니다.

이는 전체적인 MERN 스택 애플리케이션의 구조를 설명하는 내용이며, 각 부분의 세부적인 작동 원리는 추후에 더 자세히 설명할 예정입니다.
